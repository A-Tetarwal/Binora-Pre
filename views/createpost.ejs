<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project E. | Create</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom class to set the width of the parent div */
        .posts-width {
            width: calc(3 * 18rem + 1rem);
        }
        .header {
            position: sticky;
            top: 0;
            z-index: 50;
        }
    </style>
</head>
<body class="bg-zinc-900 text-white flex flex-col items-center w-full pl-10 pr-10 pb-10">
    <div class="header flex flex-row justify-between items-center w-full mb-4 border-b border-gray-800 pb-4 pt-4 bg-zinc-900">
        <div id="header" class="flex flex-row justify-center items-center">
            <img src="/images/Binora Pre 1.svg" alt="Binora Pre" class="w-10 h-10 mr-4">
            <h1 class="text-4xl font-bold">Binora Pre</h1>
        </div>
        <div class="logout flex flex-row justify-center items-center">
            <a href="/logout" class="bg-blue-800 px-3 py-2 flex justify-center items-center rounded text-sm">Logout</a>
        </div>
    </div>
    <div class="profile-top border-b border-gray-900 flex flex-row justify-center">
        <img src="/images/uploads/<%= user.profilepic ? user.profilepic : 'default.jpg' %>" alt="profile-image" class="w-20 h-20 object-cover oveflow-hidden rounded-full mb-7">
        <div class="details h-12 w-72 flex flex-col items-center m-4 justify-center">
            <h3 class="name text-2xl font-semibold">Create a post, <%= user.name %></h3>
        </div>
    </div>
    <form action="/createpost" method="post" class="form flex flex-col items-center w-80 gap-4 bg-zinc-800 rounded-lg p-6 shadow-lg">
        <textarea name="content" maxlength="150" oninput="updateCharacterCount()" class="resize-none outline-none px-4 py-2 text-sm bg-zinc-700 w-full rounded placeholder:text-zinc-300 focus:ring-2 focus:ring-blue-500" placeholder="What's on your mind ?"></textarea>
        <div id="char-count" class="text-sm text-zinc-400">150 characters remaining</div>
        <button type="submit" class="bg-blue-500 w-full rounded px-4 py-2 text-sm font-semibold hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">Create Post</button>
        <a href="/p" class="text-sm text-blue-500 hover:text-blue-600">&leftarrow; Go back to profile</a>
    </form>

    <script>
        function updateCharacterCount() {
            const textarea = document.querySelector('textarea[name="content"]');
            const charCount = document.getElementById('char-count');
            const remaining = 150 - textarea.value.length;
            charCount.textContent = `${remaining} characters remaining`;
        }
    </script>
</body>
</html>
